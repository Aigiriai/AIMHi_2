2025-08-05 19:53:28.88
74ffef53
User
📋 Organizations in production-backup-2025-08-05T14-17-51-609Z.db: AIM Hi System (aimhi.app), Org1 (null)
2025-08-05 19:53:28.88
74ffef53
User
🔄 Restoring most recent backup: production-backup.db (modified: 2025-08-05T14:20:16.377Z)
2025-08-05 19:53:28.88
74ffef53
User
🔧 Preparing database for restoration - closing connections and cleaning up WAL files...
2025-08-05 19:53:28.88
74ffef53
User
✅ Existing database connections closed and checkpointed
2025-08-05 19:53:28.88
74ffef53
User
🗑️ Cleaned up interfering file: /home/runner/workspace/data/production.db-wal
2025-08-05 19:53:28.88
74ffef53
User
🗑️ Cleaned up interfering file: /home/runner/workspace/data/production.db-shm
2025-08-05 19:53:28.98
74ffef53
User
✅ Database preparation complete - ready for restoration
2025-08-05 19:53:29.04
74ffef53
User
☁️ Downloading database backup: production-backup.db (124KB)
2025-08-05 19:53:29.09
74ffef53
User
✅ Database backup downloaded successfully to: /home/runner/workspace/data/production.db
2025-08-05 19:53:29.09
74ffef53
User
✅ Database restored from most recent backup: production-backup.db
2025-08-05 19:53:29.10
74ffef53
User
🔍 DEBUG: Organizations in restored backup: [
2025-08-05 19:53:29.10
74ffef53
User
{ id: 1, name: 'AIM Hi System', domain: 'aimhi.app' },
2025-08-05 19:53:29.10
74ffef53
User
{ id: 2, name: 'Org1', domain: null }
2025-08-05 19:53:29.10
74ffef53
User
]
2025-08-05 19:53:29.10
74ffef53
User
✅ RESTORE: Database successfully restored from Object Storage backup
2025-08-05 19:53:29.10
74ffef53
User
📊 RESTORE: Restored database size: 124KB
2025-08-05 19:53:29.10
74ffef53
User
🔄 RESTORE: Database connection will be cached after restoration
2025-08-05 19:53:29.10
74ffef53
User
✅ PRODUCTION INIT: Database restored successfully from backup
2025-08-05 19:53:29.10
74ffef53
User
🔄 Database connection will be cached after integrity check
2025-08-05 19:53:29.30
74ffef53
User
✅ Restored database integrity verified
2025-08-05 19:53:29.30
74ffef53
User
✅ SQLite database initialized successfully
2025-08-05 19:53:29.30
74ffef53
User
🔄 PRODUCTION INIT: Database restored from backup - skipping initialization seeding
2025-08-05 19:53:29.30
74ffef53
User
✅ DB: Restoration complete - database access enabled
2025-08-05 19:53:29.30
74ffef53
User
🔗 DB: Caching restored database connection
2025-08-05 19:53:29.30
74ffef53
User
✅ DB: Restored connection cached successfully
2025-08-05 19:53:29.30
74ffef53
User
🔗 DB: Restored database connection cached - preventing duplicate initialization
2025-08-05 19:53:29.30
74ffef53
User
2:23:29 PM [express] 🔗 AI calling configured for direct webhooks (no tunnel required)
2025-08-05 19:53:29.30
74ffef53
User
🔄 Initializing call context on app startup...
2025-08-05 19:53:29.31
74ffef53
User
📂 Call context loaded from disk
2025-08-05 19:53:29.31
74ffef53
User
✅ Restored context for Sudhir from previous session
2025-08-05 19:53:29.32
74ffef53
User
📂 Multiple call contexts loaded from disk (1 candidates)
